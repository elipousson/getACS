<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="getACS">
<title>3. Interpolating ACS data using an area crosswalk • getACS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="3. Interpolating ACS data using an area crosswalk">
<meta property="og:description" content="getACS">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">getACS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/area-xwalk.html">3. Interpolating ACS data using an area crosswalk</a>
    <a class="dropdown-item" href="../articles/gt-tables.html">2. Creating gt tables</a>
    <a class="dropdown-item" href="../articles/introduction.html">1. Introduction to getACS</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/elipousson/getACS/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>3. Interpolating ACS data using an area crosswalk</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/elipousson/getACS/blob/HEAD/vignettes/area-xwalk.Rmd" class="external-link"><code>vignettes/area-xwalk.Rmd</code></a></small>
      <div class="d-none name"><code>area-xwalk.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://elipousson.github.io/getACS/">getACS</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/" class="external-link">gt</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>tigris_use_cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>To illustrate how to interpolate ACS data to a new geometry using
<a href="https://elipousson.github.io/getACS/">getACS</a>, we can first download some basic population
data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pop_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_acs_tables.html">get_acs_tables</a></span><span class="op">(</span></span>
<span>  geography <span class="op">=</span> <span class="st">"tract"</span>,</span>
<span>  state <span class="op">=</span> <span class="st">"Maryland"</span>,</span>
<span>  county <span class="op">=</span> <span class="st">"Baltimore city"</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"B01001"</span>,</span>
<span>  geometry <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">3857</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_pop_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_acs.html">filter_acs</a></span><span class="op">(</span><span class="va">pop_sf</span>, vars <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_pop</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="va">total_pop_sf</span><span class="op">)</span></span></code></pre></div>
<p>We can also download Baltimore City neighborhood boundaries from
Maryland iMap to provide an alternate geometry that we are interpolating
the data to fit:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># NOTE: These are outdated Neighborhood Statistical Area boundaries as of summer 2023</span></span>
<span><span class="va">area</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="st">"https://geodata.md.gov/appdata/rest/services/TrainingProgram/MD_BaltimoreCityNeighborhoods/FeatureServer/0/query?outFields=*&amp;where=1%3D1&amp;f=geojson"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">area</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">area</span>, crs <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">pop_sf</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">area</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">area</span>, NAME <span class="op">=</span> <span class="va">LABEL</span><span class="op">)</span></span></code></pre></div>
<p>Interpolating ACS data to a new geometry using <a href="https://elipousson.github.io/getACS/">getACS</a>
is a multi-step process:</p>
<ul>
<li>Create a block-tract crosswalk using
<code><a href="../reference/make_block_xwalk.html">make_block_xwalk()</a></code>
</li>
<li>Create a weighted crosswalk between areas and tracts using
<code><a href="../reference/make_area_xwalk.html">make_area_xwalk()</a></code>
</li>
<li>Use the area crosswalk to aggregate estimate and margin of error
values with <code><a href="../reference/make_area_xwalk.html">use_area_xwalk()</a></code>
</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">block_xwalk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_block_xwalk.html">make_block_xwalk</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="st">"Maryland"</span>,</span>
<span>  county <span class="op">=</span> <span class="st">"Baltimore city"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">area_xwalk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_area_xwalk.html">make_area_xwalk</a></span><span class="op">(</span></span>
<span>  area <span class="op">=</span> <span class="va">area</span>,</span>
<span>  block_xwalk <span class="op">=</span> <span class="va">block_xwalk</span>,</span>
<span>  coverage <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weight_col <span class="op">=</span> <span class="st">"POP20"</span>,</span>
<span>  erase <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_pop_xwalk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_area_xwalk.html">use_area_xwalk</a></span><span class="op">(</span></span>
<span>  <span class="va">total_pop</span>,</span>
<span>  <span class="va">area_xwalk</span>,</span>
<span>  weight_col <span class="op">=</span> <span class="st">"perc_POP20"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_pop_xwalk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">total_pop_xwalk</span>, <span class="va">NAME</span><span class="op">)</span></span></code></pre></div>
<p>Note that this method does not require the input data
(<code>total_pop</code> in this example) to be a sf object. A data frame
is all you need. You can also avoid a separate call to
<code><a href="../reference/make_block_xwalk.html">make_block_xwalk()</a></code> by supplying a state and county to
<code><a href="../reference/make_area_xwalk.html">make_area_xwalk()</a></code>. One limitation is that
<code><a href="../reference/make_area_xwalk.html">use_area_xwalk()</a></code> requires a long format data frame and does
not support interpolation for values returned by
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html" class="external-link">tidycensus::get_acs()</a></code> when
<code>output = "wide"</code>.</p>
<p>The <code><a href="https://walker-data.com/tidycensus/reference/interpolate_pw.html" class="external-link">tidycensus::interpolate_pw()</a></code> function provides very
similar functionality. While the block data needs to be prepared
separately, a single function can substitute for both
<code><a href="../reference/make_area_xwalk.html">make_area_xwalk()</a></code> and <code><a href="../reference/make_area_xwalk.html">use_area_xwalk()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">blocks</span> <span class="op">&lt;-</span> <span class="fu">tigris</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tigris/man/blocks.html" class="external-link">blocks</a></span><span class="op">(</span><span class="st">"MD"</span>, <span class="st">"Baltimore city"</span>, year <span class="op">=</span> <span class="fl">2020</span><span class="op">)</span></span>
<span></span>
<span><span class="va">blocks</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">blocks</span>, crs <span class="op">=</span> <span class="fl">3857</span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_pop_interpolated</span> <span class="op">&lt;-</span> <span class="fu">tidycensus</span><span class="fu">::</span><span class="fu"><a href="https://walker-data.com/tidycensus/reference/interpolate_pw.html" class="external-link">interpolate_pw</a></span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="va">total_pop_sf</span>,</span>
<span>  to <span class="op">=</span> <span class="va">area</span>,</span>
<span>  to_id <span class="op">=</span> <span class="st">"NAME"</span>,</span>
<span>  weights <span class="op">=</span> <span class="va">blocks</span>,</span>
<span>  weight_column <span class="op">=</span> <span class="st">"POP20"</span>,</span>
<span>  extensive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_pop_interpolated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">total_pop_interpolated</span>, <span class="va">NAME</span>, <span class="va">estimate</span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_pop_interpolated</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="va">total_pop_interpolated</span><span class="op">)</span></span></code></pre></div>
<p>This method works well but there are a few limitations:</p>
<ul>
<li>The <code>from</code>, <code>to</code>, and <code>weights</code>
parameters must all share the same coordinate reference system unless
<code>crs</code> is explicitly provided.</li>
<li>
<code><a href="https://rdrr.io/pkg/tigris/man/erase_water.html" class="external-link">tigris::erase_water()</a></code> must be applied to input data in
advance. For <code><a href="../reference/make_area_xwalk.html">make_area_xwalk()</a></code>, the erase parameter can
also be an sf object supporting the option to erase open space or other
undeveloped land as well as water areas.</li>
<li>All but one specified non-numeric column for <code>to</code> is
dropped and all numeric values are transformed (even if they aren’t an
estimate value).</li>
<li>The margin of error can be adjusted as a weighted sum or mean but it
is not calculated separately using
<code><a href="https://walker-data.com/tidycensus/reference/moe_sum.html" class="external-link">tidycensus::moe_sum()</a></code>.</li>
</ul>
<p>By default, <code><a href="../reference/make_area_xwalk.html">make_area_xwalk()</a></code> joins the
<code>block_xwalk</code> and <code>area</code> based on which area has
the largest overlapping area with each U.S. Census block. This method is
slower than the default method for
<code><a href="https://walker-data.com/tidycensus/reference/interpolate_pw.html" class="external-link">tidycensus::interpolate_pw</a></code>: converting the Census block
geometries to a point on surface before joining the two. You can select
the latter approach by setting <code>placement = "surface"</code> or
<code>placement = "centroid"</code> for
<code><a href="../reference/make_area_xwalk.html">make_area_xwalk()</a></code>.</p>
<p>This difference in spatial joins accounts for the small differences
between the interpolated estimates using the two different functions.
The following table shows the differences between the estimates returned
by each method:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">comparison_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">total_pop_xwalk</span>, name <span class="op">=</span> <span class="va">NAME</span>, <span class="va">estimate</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">total_pop_interpolated</span>, name <span class="op">=</span> <span class="va">NAME</span>, <span class="va">estimate</span><span class="op">)</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>  suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"_xwalk"</span>, <span class="st">"_interpolated"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    difference <span class="op">=</span> <span class="va">estimate_xwalk</span> <span class="op">-</span> <span class="va">estimate_interpolated</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">comparison_data</span>, <span class="va">difference</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>      category <span class="op">=</span> <span class="st">"`interpolate_pw` estimate is lower"</span></span>
<span>    <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_min</a></span><span class="op">(</span><span class="va">comparison_data</span>, <span class="va">difference</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>      category <span class="op">=</span> <span class="st">"`use_area_xwalk` estimate is lower"</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span>groupname_col <span class="op">=</span> <span class="st">"category"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span></span>
<span>    <span class="st">"10 areas with the largest difference between interpolation methods"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div id="zfigrdnauj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zfigrdnauj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zfigrdnauj thead, #zfigrdnauj tbody, #zfigrdnauj tfoot, #zfigrdnauj tr, #zfigrdnauj td, #zfigrdnauj th {
  border-style: none;
}

#zfigrdnauj p {
  margin: 0;
  padding: 0;
}

#zfigrdnauj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zfigrdnauj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zfigrdnauj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zfigrdnauj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zfigrdnauj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zfigrdnauj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfigrdnauj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zfigrdnauj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zfigrdnauj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zfigrdnauj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zfigrdnauj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zfigrdnauj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zfigrdnauj .gt_spanner_row {
  border-bottom-style: hidden;
}

#zfigrdnauj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zfigrdnauj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zfigrdnauj .gt_from_md > :first-child {
  margin-top: 0;
}

#zfigrdnauj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zfigrdnauj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zfigrdnauj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zfigrdnauj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zfigrdnauj .gt_row_group_first td {
  border-top-width: 2px;
}

#zfigrdnauj .gt_row_group_first th {
  border-top-width: 2px;
}

#zfigrdnauj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfigrdnauj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zfigrdnauj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zfigrdnauj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfigrdnauj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfigrdnauj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zfigrdnauj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zfigrdnauj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zfigrdnauj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfigrdnauj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zfigrdnauj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfigrdnauj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zfigrdnauj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfigrdnauj .gt_left {
  text-align: left;
}

#zfigrdnauj .gt_center {
  text-align: center;
}

#zfigrdnauj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zfigrdnauj .gt_font_normal {
  font-weight: normal;
}

#zfigrdnauj .gt_font_bold {
  font-weight: bold;
}

#zfigrdnauj .gt_font_italic {
  font-style: italic;
}

#zfigrdnauj .gt_super {
  font-size: 65%;
}

#zfigrdnauj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zfigrdnauj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zfigrdnauj .gt_indent_1 {
  text-indent: 5px;
}

#zfigrdnauj .gt_indent_2 {
  text-indent: 10px;
}

#zfigrdnauj .gt_indent_3 {
  text-indent: 15px;
}

#zfigrdnauj .gt_indent_4 {
  text-indent: 20px;
}

#zfigrdnauj .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>10 areas with the largest difference between interpolation methods</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="name">name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate_xwalk">estimate_xwalk</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="estimate_interpolated">estimate_interpolated</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="difference">difference</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<th colspan="4" class="gt_group_heading" scope="colgroup" id="`interpolate_pw` estimate is lower">`interpolate_pw` estimate is lower</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="`interpolate_pw` estimate is lower  name" class="gt_row gt_left">Locust Point Industrial Area</td>
<td headers="`interpolate_pw` estimate is lower  estimate_xwalk" class="gt_row gt_right">1308</td>
<td headers="`interpolate_pw` estimate is lower  estimate_interpolated" class="gt_row gt_right">854.4785</td>
<td headers="`interpolate_pw` estimate is lower  difference" class="gt_row gt_right">453.52148</td>
</tr>
<tr>
<td headers="`interpolate_pw` estimate is lower  name" class="gt_row gt_left">Belair-Edison</td>
<td headers="`interpolate_pw` estimate is lower  estimate_xwalk" class="gt_row gt_right">16555</td>
<td headers="`interpolate_pw` estimate is lower  estimate_interpolated" class="gt_row gt_right">16417.1188</td>
<td headers="`interpolate_pw` estimate is lower  difference" class="gt_row gt_right">137.88118</td>
</tr>
<tr>
<td headers="`interpolate_pw` estimate is lower  name" class="gt_row gt_left">Evergreen</td>
<td headers="`interpolate_pw` estimate is lower  estimate_xwalk" class="gt_row gt_right">378</td>
<td headers="`interpolate_pw` estimate is lower  estimate_interpolated" class="gt_row gt_right">312.2668</td>
<td headers="`interpolate_pw` estimate is lower  difference" class="gt_row gt_right">65.73316</td>
</tr>
<tr>
<td headers="`interpolate_pw` estimate is lower  name" class="gt_row gt_left">New Southwest/Mount Clare</td>
<td headers="`interpolate_pw` estimate is lower  estimate_xwalk" class="gt_row gt_right">2085</td>
<td headers="`interpolate_pw` estimate is lower  estimate_interpolated" class="gt_row gt_right">2019.4264</td>
<td headers="`interpolate_pw` estimate is lower  difference" class="gt_row gt_right">65.57355</td>
</tr>
<tr>
<td headers="`interpolate_pw` estimate is lower  name" class="gt_row gt_left">Canton Industrial Area</td>
<td headers="`interpolate_pw` estimate is lower  estimate_xwalk" class="gt_row gt_right">939</td>
<td headers="`interpolate_pw` estimate is lower  estimate_interpolated" class="gt_row gt_right">890.4785</td>
<td headers="`interpolate_pw` estimate is lower  difference" class="gt_row gt_right">48.52147</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="4" class="gt_group_heading" scope="colgroup" id="`use_area_xwalk` estimate is lower">`use_area_xwalk` estimate is lower</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="`use_area_xwalk` estimate is lower  name" class="gt_row gt_left">Dickeyville</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_xwalk" class="gt_row gt_right">166</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_interpolated" class="gt_row gt_right">860.9389</td>
<td headers="`use_area_xwalk` estimate is lower  difference" class="gt_row gt_right">-694.93887</td>
</tr>
<tr>
<td headers="`use_area_xwalk` estimate is lower  name" class="gt_row gt_left">Locust Point</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_xwalk" class="gt_row gt_right">2164</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_interpolated" class="gt_row gt_right">2610.2818</td>
<td headers="`use_area_xwalk` estimate is lower  difference" class="gt_row gt_right">-446.28180</td>
</tr>
<tr>
<td headers="`use_area_xwalk` estimate is lower  name" class="gt_row gt_left">Four By Four</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_xwalk" class="gt_row gt_right">946</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_interpolated" class="gt_row gt_right">1088.5752</td>
<td headers="`use_area_xwalk` estimate is lower  difference" class="gt_row gt_right">-142.57518</td>
</tr>
<tr>
<td headers="`use_area_xwalk` estimate is lower  name" class="gt_row gt_left">Roland Park</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_xwalk" class="gt_row gt_right">5158</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_interpolated" class="gt_row gt_right">5266.9635</td>
<td headers="`use_area_xwalk` estimate is lower  difference" class="gt_row gt_right">-108.96351</td>
</tr>
<tr>
<td headers="`use_area_xwalk` estimate is lower  name" class="gt_row gt_left">Carrollton Ridge</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_xwalk" class="gt_row gt_right">2387</td>
<td headers="`use_area_xwalk` estimate is lower  estimate_interpolated" class="gt_row gt_right">2451.7020</td>
<td headers="`use_area_xwalk` estimate is lower  difference" class="gt_row gt_right">-64.70199</td>
</tr>
</tbody>
</table>
</div>
<p>As you can see, the differences in the estimates are very small. Most
of these areas are adjacent to large water or open space areas
suggesting that any differences could be mitigated by erasing the
non-populated geometry from both the blocks and area data before
interpolating estimates.</p>
<p>In summary, I’d recommend the <a href="https://elipousson.github.io/getACS/">getACS</a> functions if you
want to retain a more accurate margin of error, you like a more verbose
function, or you don’t want to worry about matching coordinate reference
systems in advance.</p>
<p>If you prefer working with wide format data and don’t want to
transform the shape of your data back and forth with
<code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer()</a></code> and
<code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">tidyr::pivot_wider()</a></code>, you’d be better off staying with
<code><a href="https://walker-data.com/tidycensus/reference/interpolate_pw.html" class="external-link">tidycensus::interpolate_pw()</a></code></p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
